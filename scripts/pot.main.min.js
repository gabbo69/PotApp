var Pot;Pot=Pot||{},Pot.App=Pot.App||{},Pot.App.Plan=Pot.App.Plan||{},$(document).ready(function(){var t,o,n;return n=$("div#content").load("partials/inputDate.html",function(){var t,o,n;o=moment(),n=o.year(),t=o.month()+2,$("input#year").val(n),$("input#month").val(t)}),$("div#content").on("click","button#createButton",function(){var n,e;n=$("input#month").val(),e=$("input#year").val(),$("div#content").load("partials/inputWorker.html",function(){o().done(function(o){t(o.pot),Pot.App.Table=$("body").potTable({worker:Pot.App.Plan.worker,month:n,year:e}),Pot.App.Table.potTable("loadWorker"),console.log("loadWorker")})})}).on("click","button#insertButton",function(){Pot.App.Table.potTable("readWorker"),$("div#content").load("partials/tableUser.html",function(){return Pot.App.Table.potTable("loadTable")})}).on("click","table#tableUser li.workers",function(){$(this).hasClass("active")?Pot.App.Table.potTable("setNotActive",this):(Pot.App.Table.potTable("setActive",this),Pot.App.Table.potTable("preSetTable"))}).on("click","button#reloadButton",function(){Pot.App.Table.potTable("reloadTable")}).on("click","table#inputTable input.inputK",function(){this.checked?Pot.App.Table.potTable("addMealRow",$(this).closest("tr")):Pot.App.Table.potTable("deleteMealRow",$(this).closest("tr"))}).on("click","table#inputTable input.inputMax",function(){$("table#inputTable input.inputMax").keydown()}).on("keydown","table#inputTable input.inputMax",function(t){var o;13===t.which&&(t.preventDefault,o=$(this).closest("tr").find("td input.inputK").prop("checked"),console.log(o),$(this).closest("tr").find("td input.inputK").prop("checked")&&(Pot.App.Table.potTable("addMealRow",$(this).closest("tr")),console.log("success")))}).on("click","button#saveJSONButton",function(t){var o,n,e,a,i;a=Pot.App.Table.potTable("getList"),i=JSON.stringify(a),e="text/json;charset=utf-8,"+encodeURIComponent(a),console.log(e),o=document.createElement("a"),o.href="data:"+e,o.download="data.json",o.innerHTML="download",n=document.getElementById("saveJSON"),n.appendChild(o)}),$("li#link1").on("click",function(){$(this).addClass("active"),$("li#link2").removeClass("active"),$("html, body").animate({scrollTop:$("h1#link1").offset().top},0)}),o=function(){var t;return t=$.getJSON("../lib/json/data.json",function(t){return console.log("App starting..")})},t=function(t){Pot.App.Plan=new Pot.Plan(t)}});var Pot;Pot=Pot||{},Pot.Plan=function(){function t(t,o){var n,e,a,i;for(this.data=t,this.maxDays=null!=o?o:31,this.days=this.data.days,this.month=this.data.month,this.worker=this.data.worker,a=this.worker,n=0,e=a.length;e>n;n++)i=a[n],i=new Pot.Worker(i.id,i.name,i.role)}return t.prototype.getDay=function(){return this.day},t.prototype.setDay=function(t){return this.day=t},t}();var Koch,Pot,extend=function(t,o){function n(){this.constructor=t}for(var e in o)hasProp.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},hasProp={}.hasOwnProperty;Pot=Pot||{},Pot.Worker=function(){function t(t,o,n,e,a,i){this.id=t,this.name=o,this.role=n,this.text=null!=e?e:"",this.min=null!=a?a:0,this.max=null!=i?i:0}return t.prototype.getName=function(){return this.name},t.prototype.setAttr=function(t,o,n){this.text=t,this.min=o,this.max=n},t}(),Koch=function(t){function o(t){this.meals=t}return extend(o,t),o.prototype.getName=function(){return this.name},o}(Worker);